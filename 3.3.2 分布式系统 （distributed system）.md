# 3.3.2 分布式系统 （distributed system）

参考：https://waylau.gitbooks.io/distributed-java/docs/basic.html

## 什么是分布式系统？

### 分布式系统为何产生？

- 初衷：任务需求过大，单机系统无法解决时，可以提高单机系统的性能，或者扩展系统，利用集群多机的能力。分布式系统就是试图解决单机系统无法解决的计算和存储问题。

### 分布式系统是什么样的？

- 定义

	- 具体如何仍然需要长期的观察、总结和实践
	- 《分布式系统原理与范型》一书的定义：
    分布式系统是若干独立计算机的集合，这些计算机对于用户来说就像是单个相关系统。
    硬件独立：计算机机器本身是独立的
    软件统一：对于用户来说，他们就像是跟单个系统打交道

		- 分布式系统的系统特性：
内聚性：子系统之间仅仅通过网络连接交换数据，子系统内部独立完成大量计算机任务。
透明性：用户和应用程序交互时，不会察觉哪些部分正在替换或者维修，也不会感知到新部分的加入。

	- 维基百科对“分布式系统”的宏观定义：

    分布式系统是一种其组件位于不同的联网计算机上的系统，然后通过互相传递消息来进行通信和协调。为了达到共同的目标，这些组件会相互作用。
	- 其他定义：分布式系统是由一组通过网络进行通信、为了完成共同的任务而协调工作的计算机节点组成的系统。分布式系统的出现是为了用廉价的、普通的机器完成单个计算机无法完成的计算、存储任务。其目的是利用更多的机器，处理更多的数据。

- 分布式系统大概的模型

	- 节点，一个可以独立按照分布式协议完成一组逻辑的程序个体。在具体的工程项目中，一个
节点往往是一个操作系统上的进程。
	- 节点之间的通信
	- 存储

		- 数据分布

			- 数据分布方式

		- 数据副本

			- 数据副本协议

	- 计算

		- 本地化计算

- 类别

	- 数据存储，计算，文件系统，邮件系统，分类帐，应用程序

### 性能指标：
吞吐量、并发数、响应延迟

非性能特征：
可靠性、可拓展性、一致性，每一方面都要通过多种技术手段来改进

- 性能指标
- 可用性

	- 系统在面对各种异常时可以正确提供服务的能力。分布式系统某些节点故障，不影响整体的可用性。好的分布式系统，系统停服务的时间与正常服务的时间的比例应是尽量低的。

- 可拓展性

	- 分布式系统通过扩展集群机器规模提高系统性能（吞吐、延迟、并发）、存储容量、计算能力。好的分布式系统总在追求“线性扩展性”，也就是使得系统的某一指标可以随着集群中的机器数量线性增长。

- 一致性

	- 分布式系统为了提高可用性，总是不可避免的使用副本的机制，从而引发副本一致性的问题。一致性衡量了系统应对此问题的能力。越是强的一致的性模型，对于用户使用来说使用起来越简单，数据更新后可以立刻读到最新的修改。

## 分布式系统的实现原理

### CAP理论 - 一致性/可用性权衡

### 如何实现分布式存储和计算

## 如何设计一个分布式系统？

### 首先，这个分布式系统是一个什么类型的分布式系统？数据存储，计算，文件系统，邮件系统，分类帐还是应用程序？

- 数据存储：分布式数据库、分布式缓存
- 计算：分布式计算系统
- 文件系统：分布式文件系统
- 应用程序：分布式软件系统

###     系统如何拆分为子系统？

###     如何规划子系统间的通信？

-     MQ 框架标准化了不同应用程序间非实时异步通信的方式。
-     RPC 框架标准化了不同应用程序间实时通讯的方式。
-     DAL（Data Access Layer，数据访问层）框架标准化了应用程序和数据库之间通讯的方式。

###     如何让子系统可以扩展？

###     子系统的可靠性如何保证？

###     通信过程中的安全如何考虑？

###     数据的一致性是如何实现的？

- 分布式存储

	- 数据库分库分表问题
	- 分布式存储中的
数据检索问题
	- 分布式缓存
	- Dubbo
	- ZooKeeper

- 分布式计算

*XMind: ZEN - Trial Version*